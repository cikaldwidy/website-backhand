<!DOCTYPE html>
{% extends 'base/base_element.html' %} {% load static %} {% block head_title %}
funeducare-ubah password{% endblock head_title %}{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/changepw-style.css' %}" />
{% endblock %} {% block body_block %}
<div class="container mt-5">
  {% if messages %}
  <div class="d-flex justify-content-center">
    <div class="alert alert-warning col-5 position-relative" role="alert">
      {% for message in messages %}
      <p>{{ message }}</p>
      {% endfor %}
      <button
        type="button"
        class="btn-close position-absolute top-0 end-0 m-2"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
  </div>
  {% endif %}

  <!-- Card untuk halaman ganti password -->
  <div class="card">
    <div class="card-body">
      <div class="text-center">
        <h2 class="mt-3">Ganti Kata Sandi</h2>
      </div>
      <!-- Form untuk mengganti password -->
      <form method="post">
        {% csrf_token %}
        <div class="form-group mb-3 position-relative">
          <label for="id_old_password"
            >Kata Sandi Lama
            <span class="text-danger" style="font-size: 20px; font-weight: 600"
              >*</span
            ></label
          >
          {{ form.old_password }}
          <span
            id="toggle-password1"
            class="bi bi-eye-slash position-absolute icon"
            style="
              top: 72%;
              right: 10px;
              transform: translateY(-50%);
              cursor: pointer;
              font-size: 23px;
            "
          ></span>
        </div>

        <div class="form-group mb-3 position-relative">
          <label for="id_new_password1"
            >Kata Sandi Baru
            <span class="text-danger" style="font-size: 20px; font-weight: 600"
              >*</span
            ></label
          >
          {{ form.new_password1 }}
          <span
            id="toggle-password2"
            class="bi bi-eye-slash position-absolute icon"
            style="
              top: 72%;
              right: 10px;
              transform: translateY(-50%);
              cursor: pointer;
              font-size: 23px;
            "
          ></span>
        </div>

        <div class="form-group mb-3 position-relative">
          <label for="id_new_password2"
            >Konfirmasi Kata Sandi Baru
            <span class="text-danger" style="font-size: 20px; font-weight: 600"
              >*</span
            ></label
          >
          {{ form.new_password2 }}
          <span
            id="toggle-password3"
            class="bi bi-eye-slash position-absolute icon"
            style="
              top: 72%;
              right: 10px;
              transform: translateY(-50%);
              cursor: pointer;
              font-size: 23px;
            "
          ></span>
        </div>

        <button type="submit" class="btn btn-primary w-100 mb-3">
          Ganti Kata Sandi
        </button>
        <h5>
          <i class="fa-solid fa-arrow-left"></i>
          <a href="{% url 'users:pengaturanakun' %}"> Kembali </a>
        </h5>
        <a href="{% url 'home:home' %}">Back to home</a>
      </form>
    </div>
  </div>
</div>

<!-- Bootstrap Bundle JS (this already includes Popper.js) -->
<script>
  // JavaScript to toggle the password visibility
  document
    .getElementById("toggle-password1")
    .addEventListener("click", function () {
      var passwordField = document.getElementById("id_old_password");
      var icon = document.getElementById("toggle-password1");

      if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
      } else {
        passwordField.type = "password";
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
      }
    });

  document
    .getElementById("toggle-password2")
    .addEventListener("click", function () {
      var passwordField = document.getElementById("id_new_password1");
      var icon = document.getElementById("toggle-password2");

      if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
      } else {
        passwordField.type = "password";
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
      }
    });

  document
    .getElementById("toggle-password3")
    .addEventListener("click", function () {
      var passwordField = document.getElementById("id_new_password2");
      var icon = document.getElementById("toggle-password3");

      if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
      } else {
        passwordField.type = "password";
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
      }
    });
</script>
{% endblock %}
